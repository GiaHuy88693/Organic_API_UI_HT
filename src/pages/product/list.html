<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Danh sách sản phẩm</title>
    <link rel="stylesheet" href="/list.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <style>
      .carousel-control-btn {
        width: 44px;
        height: 44px;
        background-color: rgba(0, 0, 0, 0.3);
        color: #fff;
        border: none;
        border-radius: 50%;
        font-size: 24px;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        z-index: 10;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s;
      }

      .carousel-control-btn:hover {
        background-color: rgba(0, 0, 0, 0.6);
      }

      .carousel-control-prev {
        left: -50px;
      }

      .carousel-control-next {
        right: -50px;
      }
      #backToTop {
        position: fixed;
        bottom: 40px;
        right: 30px;
        z-index: 9999;
        width: 48px;
        height: 48px;
        background-color: #198754; /* Bootstrap green */
        color: white;
        border: none;
        border-radius: 50%;
        font-size: 22px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        opacity: 0;
        pointer-events: none;
        transform: scale(0.5);
        transition: opacity 0.4s ease, transform 0.4s ease, box-shadow 0.3s;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      }

      #backToTop.show {
        opacity: 1;
        pointer-events: auto;
        transform: scale(1);
      }

      #backToTop:hover {
        background-color: #157347;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }
      .modern-product-card {
        position: relative;
        overflow: hidden;
      }

      .hover-actions {
        position: absolute;
        top: 10px;
        right: 10px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        opacity: 0;
        transform: translateY(-10px);
        transition: opacity 0.3s ease, transform 0.3s ease;
        z-index: 5;
      }

      .modern-product-card:hover .hover-actions {
        opacity: 1;
        transform: translateY(0);
      }

      .wishlist-btn {
        background-color: white;
        border: none;
        outline: none; /* bỏ viền đen khi focus */
        border-radius: 50%;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15); /* nhẹ hơn chút */
        cursor: pointer;
        transition: background 0.2s, transform 0.2s;
      }

      .wishlist-btn:focus {
        outline: none;
        box-shadow: 0 0 0 2px rgba(25, 135, 84, 0.3); /* viền xanh lá nhẹ nếu cần focus */
      }
      .wishlist-btn:hover {
        background-color: #f8f9fa; /* xám nhạt khi hover */
        transform: scale(1.05);
      }

      .wishlist-btn i {
        font-size: 18px;
        color: #000000; /* đen */
      }
      .admin-btn {
        padding: 10px 10px !important;
      }
      @media (max-width: 575.98px) {
        .carousel-control-btn {
          display: none !important;
        }

        /* Ngăn tràn lề */
        #productGridCarousel {
          overflow-x: hidden;
        }
      }
    </style>
  </head>
  <body>
    <div id="header"></div>

    <!-- Danh mục sản phẩm (set cứng) -->
    <section
      class="border-top border-bottom py-2 bg-white shadow-sm sticky-top d-none d-sm-block"
      style="z-index: 100"
    >
      <div class="container">
        <div
          class="d-flex gap-3 flex-wrap align-items-center justify-content-center text-center"
        >
          <a
            href="#"
            class="text-decoration-none text-dark fw-semibold small px-2 py-1"
            style="white-space: nowrap"
            >Trái cây</a
          >
          <a
            href="#"
            class="text-decoration-none text-dark fw-semibold small px-2 py-1"
            style="white-space: nowrap"
            >Thịt</a
          >
          <a
            href="#"
            class="text-decoration-none text-dark fw-semibold small px-2 py-1"
            style="white-space: nowrap"
            >Bánh mì</a
          >
          <a
            href="#"
            class="text-decoration-none text-dark fw-semibold small px-2 py-1"
            style="white-space: nowrap"
            >Làm đẹp</a
          >
        </div>
      </div>
    </section>

    <div id="banner"></div>

    <div class="container mt-5 position-relative">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold">Product List</h2>
      </div>

      <!-- Carousel 2x5 (set cứng dữ liệu mẫu) -->
      <div
        id="productGridCarousel"
        class="carousel slide"
        data-bs-ride="carousel"
      >
        <div class="carousel-inner">
          <div class="carousel-item active">
            <div class="row row-cols-2 row-cols-md-5 g-3">
              <!-- Sản phẩm mẫu -->
              <div class="col">
                <div class="modern-product-card">
                  <div class="hover-actions">
                    <button
                      type="button"
                      class="wishlist-btn"
                      title="Yêu thích"
                    >
                      <i class="bi bi-heart"></i>
                    </button>
                  </div>
                  <div class="product-image-container">
                    <img
                      src="https://i.postimg.cc/gcVXW8ys/0c993fa1e3446b7d29575d3d991b00a479103bab.jpg"
                      alt="Táo hữu cơ"
                    />
                    <div class="sale-badge">Sale 20%</div>
                  </div>
                  <div class="product-content">
                    <div class="product-name">
                      <a href="#">Táo hữu cơ</a>
                    </div>
                    <div class="product-price">
                      <span class="current-price">80.000đ</span>
                    </div>
                    <div class="product-rating">
                      <div class="stars">
                        <span class="star">★</span>
                        <span class="star">★</span>
                        <span class="star">★</span>
                        <span class="star">★</span>
                        <span class="star empty">★</span>
                      </div>
                      <span class="review-count">(120)</span>
                    </div>
                  </div>
                  <button class="cart-btn">
                    <i class="bi bi-bag fs-4"></i>
                  </button>
                  <div class="admin-actions">
                    <a href="#" class="admin-btn"
                      ><i class="fas fa-edit me-1"></i> Sửa</a
                    >
                    <a href="#" class="admin-btn delete"
                      ><i class="fas fa-trash me-1"></i> Xóa</a
                    >
                  </div>
                </div>
              </div>
              <!-- Thêm các sản phẩm khác tương tự ở đây nếu muốn -->
            </div>
          </div>
          <!-- Thêm các carousel-item khác nếu muốn -->
        </div>
        <!-- Điều hướng (ẩn trên mobile) -->
        <button
          class="carousel-control-btn carousel-control-prev d-none d-sm-flex"
          type="button"
          data-bs-target="#productGridCarousel"
          data-bs-slide="prev"
        >
          &#10094;
        </button>
        <button
          class="carousel-control-btn carousel-control-next d-none d-sm-flex"
          type="button"
          data-bs-target="#productGridCarousel"
          data-bs-slide="next"
        >
          &#10095;
        </button>
      </div>
    </div>

    <!-- Back to Top Button -->
    <button id="backToTop" title="Về đầu trang">↑</button>

    <div id="footer"></div>

    <script>
      // Gán header, banner, footer từ file cứng
      fetch("../../header.html")
        .then((res) => res.text())
        .then((data) => {
          document.getElementById("header").innerHTML = data;
        });

      fetch("../../banner.html")
        .then((res) => res.text())
        .then((data) => {
          document.getElementById("banner").innerHTML = data;
        });

      fetch("../../footer.html")
        .then((res) => res.text())
        .then((data) => {
          document.getElementById("footer").innerHTML = data;
        });

      // Back to top
      const backToTopBtn = document.getElementById("backToTop");
      window.addEventListener("scroll", () => {
        if (window.scrollY > 100) {
          backToTopBtn.classList.add("show");
        } else {
          backToTopBtn.classList.remove("show");
        }
      });
      backToTopBtn.addEventListener("click", () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
      });
    </script>
  </body>
</html>
